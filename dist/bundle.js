(()=>{"use strict";let e=10;function t(t){t.deltaY>0?e=Math.max(.1,e-1):t.deltaY<0&&(e=Math.min(500,e+1)),n()}function n(){document.documentElement.setAttribute("style","--canvasLeft: "+b.x+"px; --canvasTop: "+b.y+"px; --canvasHeight: "+M.height*e+"px; --canvasWidth: "+M.width*e+"px; ")}const i=document.getElementById("color");let o=i.value;function c(){o=i.value,I.strokeStyle=o}const a=document.getElementById("size");let l=a.value;function d(){l=a.value,I.lineWidth=l}let u=0,s=0;function h(e,t){u=e,s=t}function r(e){const t=canvas.getBoundingClientRect(),n=canvas.width/t.width,i=canvas.height/t.height;return{x:(e.clientX-t.left)*n,y:(e.clientY-t.top)*i}}let m=!1;function v(e){if(0!==e.button)return;m=!0;let t=r(e);I.beginPath(),I.lineTo(Math.ceil(t.x)-l/2,Math.ceil(t.y)-l/2),I.lineTo(Math.ceil(t.x)-l/2,Math.ceil(t.y)-l/2),I.stroke()}function g(e){if(!m)return;let t=r(e);I.lineTo(Math.ceil(t.x)-l/2,Math.ceil(t.y)-l/2),I.stroke()}function f(){m=!1,I.closePath()}let E=!1;function y(e){2===e.button&&(E=!0,h(e.clientX,e.clientY))}function x(e){if(!E)return;let t=function(e){const t=e.clientX,n=e.clientY,i=t-u,o=n-s;return u=t,s=n,{x:i,y:o}}(e);b.x+=t.x,b.y+=t.y,n()}function L(e){E=!1,h(e.clientX,e.clientY)}const p=document.getElementById("info"),w=document.getElementById("canvas"),B=document.getElementById("canvas-container"),I=(document.getElementById("canvas-wrapper"),w.getContext("2d"));let b={x:0,y:0},M={width:64,height:64};function F(){w.width=M.width,w.height=M.height,n(),p.textContent=M.width+"x"+M.height}function Y(){F(),I.fillStyle="#FFFFFF",I.fillRect(0,0,M.width,M.height),n(),B.addEventListener("mousedown",y),B.addEventListener("mousemove",x),B.addEventListener("mouseup",L),B.addEventListener("mouseleave",L),B.addEventListener("wheel",t),B.addEventListener("resize",F),I.globalAlpha=2,I.lineCap="square",I.lineJoin="bevel",I.lineWidth=l,I.strokeStyle=o,w.addEventListener("mousedown",v),B.addEventListener("mousemove",g),B.addEventListener("mouseup",f),B.addEventListener("mouseleave",f),d(),a.addEventListener("change",d),c(),i.addEventListener("change",c)}const k=document.getElementById("new-button");document.getElementById("save-button").addEventListener("mouseup",(function(){var e=document.createElement("a");e.download="image.png",e.href=document.getElementById("canvas").toDataURL(),e.click()})),k.addEventListener("mouseup",(function(){I.clearRect(0,0,M.width,M.height),Y()})),Y()})();